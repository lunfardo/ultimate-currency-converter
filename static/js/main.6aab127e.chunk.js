(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{287:function(e,t,n){},427:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),o=n(28),i=n.n(o),j=(n(287),n(492)),s=n(231),u=n(487),b=n(472),O=n(40),l=n(251),d=n(254),f=n(18),h=n(490),x=n(486),p=n(497),v=n(494),y=n(30),m=n(488),g=n(7),w=function(e){return Object(g.jsx)(m.a,Object(y.a)(Object(y.a)({},e),{},{InputLabelProps:{shrink:!0},variant:"outlined"}))},C=n(4),k=n(467),F=n(468),M=n(469),S=n(156),D=n(157);!function(e){e.Forward="forward",e.Backward="backward"}(c||(c={}));var E=Object(k.a)((function(e){return{root:{padding:e.spacing(1.5)},withError:{color:S.a[600]},NoError:{color:D.a[600]}}})),T=function(e){var t=e.operationMode,n=e.error,a=E(n);return Object(g.jsx)("div",{className:Object(C.a)(a.root,n?a.withError:a.NoError),children:t===c.Forward?Object(g.jsx)(F.a,{}):Object(g.jsx)(M.a,{})})},K=n(493),L=n(44),B=n.n(L),I=n(95),P=n(495),R=function(){var e=Object(I.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://openexchangerates.org/api/currencies.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=function(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(P.a)("currencies",R,{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:60});return Object(a.useEffect)((function(){var e=r.data;if(e){var t=Object.keys(e).map((function(t){return{key:t,name:e[t]}}));c(t)}}),[r.data]),Object(a.useMemo)((function(){return n}),[n])}();return Object(g.jsx)(K.a,Object(y.a)(Object(y.a)({},e),{},{style:{width:300},options:null!==t&&void 0!==t?t:[],getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(g.jsx)(m.a,Object(y.a)(Object(y.a)({},e),{},{label:"Choose a Currency",variant:"outlined"}))}}))},N=n(489),z=function(e){return Object(g.jsx)(N.a,Object(y.a)(Object(y.a)({},e),{},{disableToolbar:!0,autoOk:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",maxDate:new Date,id:"date-picker-inline",label:"Convertion Date"}))},W=n(470),q=n(473),H=function(e){return Object(g.jsx)(W.a,Object(y.a)(Object(y.a)({},e),{},{style:{background:"rgb(0 0 0 / 14%)"},size:"small",children:Object(g.jsx)(q.a,{})}))},J=n(153),U=n(474),X=Object(a.memo)((function(e){var t=e.onClick,n=Object(J.a)(e,["onClick"]);return Object(g.jsx)(W.a,Object(y.a)(Object(y.a)({},n),{},{color:"secondary",onClick:t,"aria-label":"remove-convertion-box",size:"small",children:Object(g.jsx)(U.a,{})}))})),Z=n(496),A=n(484),G=n(471),Q=n(478),V=n(479),Y=n(483),$=n(249),ee=n(250),te=n(121),ne=n(118),ce=n(255),ae=n(475),re=n(476),oe=n(477),ie=n(253),je=function(){var e=Object(I.a)(B.a.mark((function e(t){var n,c,a,r,o,i,j,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.queryKey,c=n[1],a=n[2],r=n[3],o=[c,a].join(""),i=Object(ae.a)(r,60),j=r;Object(re.a)(i)||Object(oe.a)(i);)i=Object(ae.a)(i,1);for(;Object(re.a)(j)||Object(oe.a)(j);)j=Object(ae.a)(j,1);return e.next=11,fetch("https://fxmarketapi.com/apitimeseries?api_key=".concat("H89XCTMcishFM3lKnZKl","&currency=").concat(o,"&start_date=").concat(Object(ie.a)(i,"yyyy-MM-dd"),"&end_date=").concat(Object(ie.a)(j,"yyyy-MM-dd")));case 11:return s=e.sent,e.next=14,s.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e){var t=e.firstCurrency,n=e.secondCurrency,c=function(e,t,n){var c=Object(P.a)(["rates-".concat(e,"-").concat(t,"-").concat(n),e,t,n],je,{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:60}),r=Object(a.useState)(null),o=Object(f.a)(r,2),i=o[0],j=o[1];return Object(a.useEffect)((function(){var n=c.data;if(n){var a=[e,t].join(""),r=Object.keys(n.price).map((function(e){return{date:e,rate:n.price[e][a].close}}));j(r)}}),[c.data,e,t]),i}(t,n,e.convertionDate);return c?Object(g.jsx)(Q.a,{width:"100%",height:"100%",children:Object(g.jsxs)(V.a,{width:500,height:300,data:c,margin:{top:5,right:30,left:20,bottom:5},children:[Object(g.jsx)(Y.a,{strokeDasharray:"3 3"}),Object(g.jsx)($.a,{dataKey:"date"}),Object(g.jsx)(ee.a,{}),Object(g.jsx)(te.a,{}),Object(g.jsx)(ne.a,{}),Object(g.jsx)(ce.a,{type:"monotone",dataKey:"rate",name:"".concat(t,"-").concat(n," Rate"),stroke:"#8884d8",activeDot:{r:8}})]})}):null},ue=function(e,t,n){return n===c.Forward?e:t},be=function(e,t,n){return n===c.Forward?t:e},Oe=function(e){var t=e.DialogProps,n=e.leftCurrency,c=e.rightCurrency,a=e.operationMode,r=e.convertionDate,o=ue(n,c,a),i=be(n,c,a);return Object(g.jsxs)(Z.a,Object(y.a)(Object(y.a)({fullScreen:!0,"aria-labelledby":"currency-history-dialog"},t),{},{children:[Object(g.jsx)(A.a,{id:"customized-dialog-title",children:"Convertion Historical Data: ".concat(o," - ").concat(i," (last 60 days)")}),Object(g.jsx)(G.a,{children:Object(g.jsx)(se,{firstCurrency:o,secondCurrency:i,convertionDate:r})})]}))},le=n(500),de=n(137),fe=n(226),he="c266944752f24393afe3cf6f9fde2f3a",xe=function(){var e=Object(I.a)(B.a.mark((function e(t){var n,c,a,r,o,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.queryKey,c=n[1],a=n[2],c){e.next=5;break}return e.abrupt("return");case 5:return r=new Date,o=Object(fe.a)(a,r)?"https://openexchangerates.org/api/latest.json?app_id=".concat(he,"&symbols=").concat(c):"https://openexchangerates.org/api/historical/".concat(Object(ie.a)(a,"yyyy-MM-dd"),".json?app_id=").concat(he,"&symbols=").concat(c),e.next=9,fetch(o);case 9:return i=e.sent,e.next=12,i.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(e,t,n,c){var r=Object(a.useState)(null),o=Object(f.a)(r,2),i=o[0],j=o[1],s=Object(a.useState)(!1),u=Object(f.a)(s,2),b=u[0],O=u[1],l=function(e,t,n){var c=Object(a.useState)(null),r=Object(f.a)(c,2),o=r[0],i=r[1],j=Object(a.useState)(""),s=Object(f.a)(j,2),u=s[0],b=s[1],O=Object(P.a)(["rates-".concat(u,"-").concat(n),u,n],xe,{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:60});return Object(a.useEffect)((function(){e&&t&&b(function(e,t){var n=[e,t];return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?n.sort().join(","):n.join(",")}(e,t,!0))}),[e,t]),Object(a.useEffect)((function(){var n="".concat(e,"-").concat(t),c=O.data;c&&i((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(de.a)({},n,c.rates))}))}),[O.data,e,t]),Object(a.useMemo)((function(){return o}),[o])}(e,t,n);return Object(le.a)((function(){if(c){if(l){var n=l["".concat(e,"-").concat(t)];n&&t&&e&&(j(n[t]*c/n[e]),O(!1))}}else O(!0)}),300,[c,e,t,l]),{result:i,withError:b}},ve=Object(a.memo)((function(e){var t=e.removeEnabled,n=e.onRemove,r=Object(a.useState)(""),o=Object(f.a)(r,2),i=o[0],j=o[1],s=Object(a.useState)(""),u=Object(f.a)(s,2),b=u[0],O=u[1],l=Object(a.useState)(""),d=Object(f.a)(l,2),x=d[0],y=d[1],m=Object(a.useState)(""),C=Object(f.a)(m,2),k=C[0],F=C[1],M=Object(a.useState)(new Date),S=Object(f.a)(M,2),D=S[0],E=S[1],K=Object(a.useState)(!1),L=Object(f.a)(K,2),B=L[0],I=L[1],P=Object(a.useState)(null),R=Object(f.a)(P,2),N=R[0],W=R[1],q=Object(a.useState)(!1),J=Object(f.a)(q,2),U=J[0],Z=J[1],A=Object(a.useState)(c.Forward),G=Object(f.a)(A,2),Q=G[0],V=G[1],Y=function(e,t,n){return n===c.Forward?e:t}(i,b,Q),$=pe(ue(x,k,Q),be(x,k,Q),D,Number(Y)),ee=$.result,te=$.withError;Object(a.useEffect)((function(){W(ee)}),[ee]),Object(a.useEffect)((function(){if(N){var e=N.toFixed(3);Q===c.Forward?O(e):j(e)}}),[N,Q]),Object(a.useEffect)((function(){Z(!(!i||!b)&&!!te)}),[te,i,b]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)(h.a,{marginBottom:1,display:"flex",alignContent:"center",children:[Object(g.jsx)(z,{value:D,onChange:function(e){E(e)}}),Object(g.jsxs)(h.a,{paddingLeft:2,marginTop:4,children:[Object(g.jsx)(H,{disabled:!x||!k,onClick:function(){I(!0)}}),t&&Object(g.jsx)(X,{onClick:n})]})]}),Object(g.jsxs)(h.a,{display:"flex",children:[Object(g.jsx)(w,{error:U,value:i,onChange:function(e){j(e.target.value)},onKeyDown:function(){W(null),V(c.Forward)},label:Q===c.Forward?"From":"To"}),Object(g.jsx)(h.a,{marginLeft:1,children:Object(g.jsx)(_,{onChange:function(e,t){t&&y(t.key)}})}),Object(g.jsx)(h.a,{marginLeft:1,marginRight:1,children:Object(g.jsx)(T,{error:U,operationMode:Q})}),Object(g.jsx)(h.a,{marginRight:1,children:Object(g.jsx)(_,{onChange:function(e,t){t&&F(t.key)}})}),Object(g.jsx)(w,{error:U,value:b,onChange:function(e){O(e.target.value)},onKeyDown:function(){W(null),V(c.Backward)},label:Q===c.Forward?"To":"From"})]})]}),!!x&&!!k&&Object(g.jsx)(Oe,{leftCurrency:x,rightCurrency:k,convertionDate:D,operationMode:Q,DialogProps:{open:B,onClose:function(){I(!1)}}}),Object(g.jsx)(p.a,{open:U,children:Object(g.jsx)(v.a,{severity:"error",children:"Invalid amount!"})})]})})),ye=n(485),me=Object(a.memo)((function(e){var t=e.onClick,n=Object(J.a)(e,["onClick"]);return Object(g.jsx)(W.a,Object(y.a)(Object(y.a)({},n),{},{style:{color:D.a[600]},onClick:t,"aria-label":"remove-convertion-box",children:Object(g.jsx)(ye.a,{})}))})),ge=function(){var e=Object(a.useState)([0]),t=Object(f.a)(e,2),n=t[0],c=t[1],r=n.length>1;return Object(g.jsxs)(h.a,{margin:"auto",padding:10,width:"max-content",children:[n.map((function(e,t){return Object(g.jsxs)("div",{children:[Object(g.jsx)(h.a,{paddingTop:1,paddingBottom:1,display:"flex",children:Object(g.jsx)(ve,{removeEnabled:r,onRemove:(a=e,function(){console.log("removing2"),c((function(e){return e.filter((function(e){return e!==a}))}))})})}),t!==n.length-1&&Object(g.jsx)(x.a,{})]},e);var a})),Object(g.jsx)(x.a,{}),Object(g.jsx)(h.a,{width:"100%",display:"flex",justifyContent:"center",children:Object(g.jsx)(me,{onClick:function(){c((function(e){return[].concat(Object(d.a)(e),[e[e.length-1]+1])}))}})})]})},we=new j.a,Ce=function(){return Object(g.jsx)(s.a,{client:we,children:Object(g.jsxs)(O.a,{utils:l.a,children:[Object(g.jsx)(u.a,{position:"fixed",children:Object(g.jsx)(b.a,{children:"Ultimate Currency Converter \ud83d\ude80"})}),Object(g.jsx)(ge,{})]})})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,501)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Ce,{})}),document.getElementById("root")),ke()}},[[427,1,2]]]);
//# sourceMappingURL=main.6aab127e.chunk.js.map