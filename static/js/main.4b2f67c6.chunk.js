(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{291:function(e,t,n){},431:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),o=n(28),i=n.n(o),u=(n(291),n(497)),j=n(236),s=n(492),b=n(476),O=n(40),l=n(256),f=n(259),d=n(18),h=n(495),x=n(491),p=n(502),m=n(499),v=n(30),y=n(493),g=n(7),w=function(e){return Object(g.jsx)(y.a,Object(v.a)(Object(v.a)({},e),{},{InputLabelProps:{shrink:!0},variant:"outlined"}))},k=n(4),C=n(471),F=n(472),M=n(473),D=n(160),S=n(161);!function(e){e.Forward="forward",e.Backward="backward"}(c||(c={}));var E=Object(C.a)((function(e){return{root:{padding:e.spacing(1.5)},withError:{color:D.a[600]},NoError:{color:S.a[600]}}})),T=function(e){var t=e.operationMode,n=e.error,a=E(n);return Object(g.jsx)("div",{className:Object(k.a)(a.root,n?a.withError:a.NoError),children:t===c.Forward?Object(g.jsx)(F.a,{}):Object(g.jsx)(M.a,{})})},K=n(498),L=n(44),N=n.n(L),B=n(95),R=n(500),I=function(){var e=Object(B.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://openexchangerates.org/api/currencies.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){var t=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(R.a)("currencies",I,{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:60});return Object(a.useEffect)((function(){var e=r.data;if(e){var t=Object.keys(e).map((function(t){return{key:t,name:e[t]}}));c(t)}}),[r.data]),Object(a.useMemo)((function(){return n}),[n])}();return Object(g.jsx)(K.a,Object(v.a)(Object(v.a)({},e),{},{style:{width:300},options:null!==t&&void 0!==t?t:[],getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(g.jsx)(y.a,Object(v.a)(Object(v.a)({},e),{},{label:"Choose a Currency",variant:"outlined"}))}}))},W=n(477),_=n(494),z=function(e){return Object(g.jsx)(_.a,Object(v.a)(Object(v.a)({},e),{},{disableToolbar:!0,autoOk:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",maxDate:new Date,minDate:Object(W.a)(new Date,10),id:"date-picker-inline",label:"Convertion Date"}))},q=n(474),H=n(478),J=function(e){return Object(g.jsx)(q.a,Object(v.a)(Object(v.a)({},e),{},{style:{background:"rgb(0 0 0 / 14%)"},size:"small",children:Object(g.jsx)(H.a,{})}))},U=n(157),X=n(479),Z=Object(a.memo)((function(e){var t=e.onClick,n=Object(U.a)(e,["onClick"]);return Object(g.jsx)(q.a,Object(v.a)(Object(v.a)({},n),{},{color:"secondary",onClick:t,"aria-label":"remove-convertion-box",size:"small",children:Object(g.jsx)(X.a,{})}))})),A=n(501),G=n(489),Q=n(475),V=n(483),Y=n(484),$=n(488),ee=n(254),te=n(255),ne=n(123),ce=n(120),ae=n(260),re=n(135),oe=n(480),ie=n(481),ue=n(482),je=n(258),se=function(){var e=Object(B.a)(N.a.mark((function e(t){var n,c,a,r,o,i,u,j;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.queryKey,c=n[1],a=n[2],r=n[3],o=[c,a].join(""),Object(re.a)(r)){e.next=7;break}return e.abrupt("return");case 7:for(i=Object(oe.a)(r,60),u=r;Object(ie.a)(i)||Object(ue.a)(i);)i=Object(oe.a)(i,1);for(;Object(ie.a)(u)||Object(ue.a)(u);)u=Object(oe.a)(u,1);return e.next=13,fetch("https://fxmarketapi.com/apitimeseries?api_key=".concat("H89XCTMcishFM3lKnZKl","&currency=").concat(o,"&start_date=").concat(Object(je.a)(i,"yyyy-MM-dd"),"&end_date=").concat(Object(je.a)(u,"yyyy-MM-dd")));case 13:return j=e.sent,e.next=16,j.json();case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e){var t=e.firstCurrency,n=e.secondCurrency,c=function(e,t,n){var c=Object(R.a)(["rates-".concat(e,"-").concat(t,"-").concat(n),e,t,n],se,{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:60}),r=Object(a.useState)(null),o=Object(d.a)(r,2),i=o[0],u=o[1];return Object(a.useEffect)((function(){var n=c.data;if(n){var a=[e,t].join(""),r=Object.keys(n.price).map((function(e){var t=n.price[e][a].close;return Number.isNaN(t)?null:{date:e,rate:n.price[e][a].close}})).filter((function(e){return null!==e}));u(r)}}),[c.data,e,t]),i}(t,n,e.convertionDate);return c?Object(g.jsx)(h.a,{height:"400px",children:Object(g.jsx)(V.a,{width:"100%",height:"100%",children:Object(g.jsxs)(Y.a,{width:500,height:300,data:c,margin:{top:5,right:30,left:20,bottom:5},children:[Object(g.jsx)($.a,{strokeDasharray:"3 3"}),Object(g.jsx)(ee.a,{dataKey:"date"}),Object(g.jsx)(te.a,{}),Object(g.jsx)(ne.a,{}),Object(g.jsx)(ce.a,{}),Object(g.jsx)(ae.a,{type:"monotone",dataKey:"rate",name:"".concat(t,"-").concat(n," Rate"),stroke:"#8884d8",activeDot:{r:8}})]})})}):null},Oe=function(e,t,n){return n===c.Forward?e:t},le=function(e,t,n){return n===c.Forward?t:e},fe=function(e){var t=e.DialogProps,n=e.leftCurrency,c=e.rightCurrency,a=e.operationMode,r=e.convertionDate,o=Oe(n,c,a),i=le(n,c,a);return Object(g.jsxs)(A.a,Object(v.a)(Object(v.a)({fullWidth:!0,maxWidth:"md","aria-labelledby":"currency-history-dialog"},t),{},{children:[Object(g.jsx)(G.a,{id:"customized-dialog-title",children:"Historical ".concat(o,"-").concat(i," Rates (60 days previous to convertion date, no weekends)")}),Object(g.jsx)(Q.a,{children:Object(g.jsx)(be,{firstCurrency:o,secondCurrency:i,convertionDate:r})})]}))},de=n(505),he=n(141),xe=n(231),pe=function(){var e=Object(B.a)(N.a.mark((function e(t){var n,c,a,r,o,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.queryKey,c=n[1],a=n[2],c){e.next=5;break}return e.abrupt("return");case 5:if(Object(re.a)(a)){e.next=7;break}return e.abrupt("return");case 7:return r=new Date,o=Object(xe.a)(a,r)?"https://openexchangerates.org/api/latest.json?app_id=".concat("c266944752f24393afe3cf6f9fde2f3a","&symbols=").concat(c):"https://openexchangerates.org/api/historical/".concat(Object(je.a)(a,"yyyy-MM-dd"),".json?app_id=").concat("c266944752f24393afe3cf6f9fde2f3a","&symbols=").concat(c),e.next=11,fetch(o);case 11:return i=e.sent,e.next=14,i.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(e,t,n,c){var r=Object(a.useState)(null),o=Object(d.a)(r,2),i=o[0],u=o[1],j=Object(a.useState)(!1),s=Object(d.a)(j,2),b=s[0],O=s[1],l=function(e,t,n){var c=Object(a.useState)(null),r=Object(d.a)(c,2),o=r[0],i=r[1],u=Object(a.useState)(""),j=Object(d.a)(u,2),s=j[0],b=j[1],O=Object(R.a)(["rates-".concat(s,"-").concat(n),s,n],pe,{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:60});return Object(a.useEffect)((function(){e&&t&&b(function(e,t){var n=[e,t];return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?n.sort().join(","):n.join(",")}(e,t,!0))}),[e,t]),Object(a.useEffect)((function(){var n="".concat(e,"-").concat(t),c=O.data;c&&i((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(he.a)({},n,c.rates))}))}),[O.data,e,t]),Object(a.useMemo)((function(){return o}),[o])}(e,t,n);return Object(de.a)((function(){if(c){if(l){var n=l["".concat(e,"-").concat(t)];n&&t&&e&&(u(n[t]*c/n[e]),O(!1))}}else O(!0)}),300,[c,e,t,l]),{result:i,withError:b}},ve=Object(a.memo)((function(e){var t=e.removeEnabled,n=e.onRemove,r=Object(a.useState)(""),o=Object(d.a)(r,2),i=o[0],u=o[1],j=Object(a.useState)(""),s=Object(d.a)(j,2),b=s[0],O=s[1],l=Object(a.useState)(""),f=Object(d.a)(l,2),x=f[0],v=f[1],y=Object(a.useState)(""),k=Object(d.a)(y,2),C=k[0],F=k[1],M=Object(a.useState)(new Date),D=Object(d.a)(M,2),S=D[0],E=D[1],K=Object(a.useState)(!1),L=Object(d.a)(K,2),N=L[0],B=L[1],R=Object(a.useState)(null),I=Object(d.a)(R,2),W=I[0],_=I[1],q=Object(a.useState)(!1),H=Object(d.a)(q,2),U=H[0],X=H[1],A=Object(a.useState)(c.Forward),G=Object(d.a)(A,2),Q=G[0],V=G[1],Y=function(e,t,n){return n===c.Forward?e:t}(i,b,Q),$=me(Oe(x,C,Q),le(x,C,Q),S,Number(Y)),ee=$.result,te=$.withError;Object(a.useEffect)((function(){_(ee)}),[ee]),Object(a.useEffect)((function(){if(W){var e=W.toFixed(3);Q===c.Forward?O(e):u(e)}}),[W,Q]),Object(a.useEffect)((function(){X(!(!i||!b)&&!!te)}),[te,i,b]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)(h.a,{marginBottom:1,display:"flex",alignContent:"center",children:[Object(g.jsx)(z,{value:S,onChange:function(e){E(e)}}),Object(g.jsxs)(h.a,{paddingLeft:2,marginTop:4,children:[Object(g.jsx)(J,{disabled:!x||!C,onClick:function(){B(!0)}}),t&&Object(g.jsx)(Z,{onClick:n})]})]}),Object(g.jsxs)(h.a,{display:"flex",children:[Object(g.jsx)(w,{error:U,value:i,onChange:function(e){u(e.target.value)},onKeyDown:function(){_(null),V(c.Forward)},label:Q===c.Forward?"From":"To"}),Object(g.jsx)(h.a,{marginLeft:1,children:Object(g.jsx)(P,{onChange:function(e,t){t&&v(t.key)}})}),Object(g.jsx)(h.a,{marginLeft:1,marginRight:1,children:Object(g.jsx)(T,{error:U,operationMode:Q})}),Object(g.jsx)(h.a,{marginRight:1,children:Object(g.jsx)(P,{onChange:function(e,t){t&&F(t.key)}})}),Object(g.jsx)(w,{error:U,value:b,onChange:function(e){O(e.target.value)},onKeyDown:function(){_(null),V(c.Backward)},label:Q===c.Forward?"To":"From"})]})]}),!!x&&!!C&&Object(g.jsx)(fe,{leftCurrency:x,rightCurrency:C,convertionDate:S,operationMode:Q,DialogProps:{open:N,onClose:function(){B(!1)}}}),Object(g.jsx)(p.a,{open:U,children:Object(g.jsx)(m.a,{severity:"error",children:"Invalid amount!"})})]})})),ye=n(490),ge=Object(a.memo)((function(e){var t=e.onClick,n=Object(U.a)(e,["onClick"]);return Object(g.jsx)(q.a,Object(v.a)(Object(v.a)({},n),{},{style:{color:S.a[600]},onClick:t,"aria-label":"remove-convertion-box",children:Object(g.jsx)(ye.a,{})}))})),we=function(){var e=Object(a.useState)([0]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=n.length>1;return Object(g.jsxs)(h.a,{margin:"auto",padding:10,width:"max-content",children:[n.map((function(e,t){return Object(g.jsxs)("div",{children:[Object(g.jsx)(h.a,{paddingTop:1,paddingBottom:1,display:"flex",children:Object(g.jsx)(ve,{removeEnabled:r,onRemove:(a=e,function(){c((function(e){return e.filter((function(e){return e!==a}))}))})})}),t!==n.length-1&&Object(g.jsx)(x.a,{})]},e);var a})),Object(g.jsx)(x.a,{}),Object(g.jsx)(h.a,{width:"100%",display:"flex",justifyContent:"center",children:Object(g.jsx)(ge,{onClick:function(){c((function(e){return[].concat(Object(f.a)(e),[e[e.length-1]+1])}))}})})]})},ke=new u.a,Ce=function(){return Object(g.jsx)(j.a,{client:ke,children:Object(g.jsxs)(O.a,{utils:l.a,children:[Object(g.jsx)(s.a,{position:"fixed",children:Object(g.jsx)(b.a,{children:"Ultimate Currency Converter \ud83d\ude80"})}),Object(g.jsx)(we,{})]})})},Fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,506)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Ce,{})}),document.getElementById("root")),Fe()}},[[431,1,2]]]);
//# sourceMappingURL=main.4b2f67c6.chunk.js.map