(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{290:function(e,t,n){},430:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),o=n(28),i=n.n(o),u=(n(290),n(496)),j=n(235),s=n(491),b=n(475),O=n(40),l=n(255),f=n(258),d=n(18),h=n(494),x=n(490),p=n(501),m=n(498),y=n(30),v=n(492),g=n(7),w=function(e){return Object(g.jsx)(v.a,Object(y.a)(Object(y.a)({},e),{},{InputLabelProps:{shrink:!0},variant:"outlined"}))},k=n(4),C=n(470),F=n(471),M=n(472),D=n(159),S=n(160);!function(e){e.Forward="forward",e.Backward="backward"}(c||(c={}));var E=Object(C.a)((function(e){return{root:{padding:e.spacing(1.5)},withError:{color:D.a[600]},NoError:{color:S.a[600]}}})),T=function(e){var t=e.operationMode,n=e.error,r=E(n);return Object(g.jsx)("div",{className:Object(k.a)(r.root,n?r.withError:r.NoError),children:t===c.Forward?Object(g.jsx)(F.a,{}):Object(g.jsx)(M.a,{})})},K=n(497),L=n(44),N=n.n(L),B=n(95),R=n(499),I=function(){var e=Object(B.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://openexchangerates.org/api/currencies.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){var t=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(R.a)("currencies",I,{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:60});return Object(r.useEffect)((function(){var e=a.data;if(e){var t=Object.keys(e).map((function(t){return{key:t,name:e[t]}}));c(t)}}),[a.data]),Object(r.useMemo)((function(){return n}),[n])}();return Object(g.jsx)(K.a,Object(y.a)(Object(y.a)({},e),{},{style:{width:300},options:null!==t&&void 0!==t?t:[],getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(g.jsx)(v.a,Object(y.a)(Object(y.a)({},e),{},{label:"Choose a Currency",variant:"outlined"}))}}))},W=n(476),_=n(493),z=function(e){return Object(g.jsx)(_.a,Object(y.a)(Object(y.a)({},e),{},{disableToolbar:!0,autoOk:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",maxDate:new Date,minDate:Object(W.a)(new Date,10),id:"date-picker-inline",label:"Convertion Date"}))},q=n(473),H=n(477),J=function(e){return Object(g.jsx)(q.a,Object(y.a)(Object(y.a)({},e),{},{style:{background:"rgb(0 0 0 / 14%)"},size:"small",children:Object(g.jsx)(H.a,{})}))},U=n(478),X=Object(r.memo)((function(e){return Object(g.jsx)(q.a,Object(y.a)(Object(y.a)({},e),{},{color:"secondary","aria-label":"remove-convertion-box",size:"small",children:Object(g.jsx)(U.a,{})}))})),Z=n(500),A=n(488),G=n(474),Q=n(482),V=n(483),Y=n(487),$=n(253),ee=n(254),te=n(123),ne=n(120),ce=n(259),re=n(135),ae=n(479),oe=n(480),ie=n(481),ue=n(257),je=function(){var e=Object(B.a)(N.a.mark((function e(t){var n,c,r,a,o,i,u,j;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.queryKey,c=n[1],r=n[2],a=n[3],o=[c,r].join(""),Object(re.a)(a)){e.next=7;break}return e.abrupt("return");case 7:for(i=Object(ae.a)(a,60),u=a;Object(oe.a)(i)||Object(ie.a)(i);)i=Object(ae.a)(i,1);for(;Object(oe.a)(u)||Object(ie.a)(u);)u=Object(ae.a)(u,1);return e.next=13,fetch("https://fxmarketapi.com/apitimeseries?api_key=".concat("H89XCTMcishFM3lKnZKl","&currency=").concat(o,"&start_date=").concat(Object(ue.a)(i,"yyyy-MM-dd"),"&end_date=").concat(Object(ue.a)(u,"yyyy-MM-dd")));case 13:return j=e.sent,e.next=16,j.json();case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e){var t=e.firstCurrency,n=e.secondCurrency,c=function(e,t,n){var c=Object(R.a)(["rates-".concat(e,"-").concat(t,"-").concat(n),e,t,n],je,{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:60}),a=Object(r.useState)(null),o=Object(d.a)(a,2),i=o[0],u=o[1];return Object(r.useEffect)((function(){var n=c.data;if(n&&"object"===typeof n.price){var r=[e,t].join(""),a=Object.keys(n.price).map((function(e){var t=n.price[e][r].close;return Number.isNaN(t)?null:{date:e,rate:n.price[e][r].close}})).filter((function(e){return null!==e}));u(a)}}),[c.data,e,t]),i}(t,n,e.convertionDate);return c?Object(g.jsx)(h.a,{height:"400px",children:Object(g.jsx)(Q.a,{width:"100%",height:"100%",children:Object(g.jsxs)(V.a,{width:500,height:300,data:c,margin:{top:5,right:30,left:20,bottom:5},children:[Object(g.jsx)(Y.a,{strokeDasharray:"3 3"}),Object(g.jsx)($.a,{dataKey:"date"}),Object(g.jsx)(ee.a,{}),Object(g.jsx)(te.a,{}),Object(g.jsx)(ne.a,{}),Object(g.jsx)(ce.a,{type:"monotone",dataKey:"rate",name:"".concat(t,"-").concat(n," Rate"),stroke:"#8884d8",activeDot:{r:8}})]})})}):null},be=function(e,t,n){return n===c.Forward?e:t},Oe=function(e,t,n){return n===c.Forward?t:e},le=function(e){var t=e.DialogProps,n=e.leftCurrency,c=e.rightCurrency,r=e.operationMode,a=e.convertionDate,o=be(n,c,r),i=Oe(n,c,r);return Object(g.jsxs)(Z.a,Object(y.a)(Object(y.a)({fullWidth:!0,maxWidth:"md","aria-labelledby":"currency-history-dialog"},t),{},{children:[Object(g.jsx)(A.a,{id:"customized-dialog-title",children:"Historical ".concat(o,"-").concat(i," Rates (60 days previous to convertion date, no weekends)")}),Object(g.jsx)(G.a,{children:Object(g.jsx)(se,{firstCurrency:o,secondCurrency:i,convertionDate:a})})]}))},fe=n(504),de=n(141),he=n(230),xe=function(){var e=Object(B.a)(N.a.mark((function e(t){var n,c,r,a,o,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.queryKey,c=n[1],r=n[2],c){e.next=5;break}return e.abrupt("return");case 5:if(Object(re.a)(r)){e.next=7;break}return e.abrupt("return");case 7:return a=new Date,o=Object(he.a)(r,a)?"https://openexchangerates.org/api/latest.json?app_id=".concat("c266944752f24393afe3cf6f9fde2f3a","&symbols=").concat(c):"https://openexchangerates.org/api/historical/".concat(Object(ue.a)(r,"yyyy-MM-dd"),".json?app_id=").concat("c266944752f24393afe3cf6f9fde2f3a","&symbols=").concat(c),e.next=11,fetch(o);case 11:return i=e.sent,e.next=14,i.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(e,t,n,c){var a=Object(r.useState)(null),o=Object(d.a)(a,2),i=o[0],u=o[1],j=Object(r.useState)(!1),s=Object(d.a)(j,2),b=s[0],O=s[1],l=function(e,t,n){var c=Object(r.useState)(null),a=Object(d.a)(c,2),o=a[0],i=a[1],u=Object(r.useState)(""),j=Object(d.a)(u,2),s=j[0],b=j[1],O=Object(R.a)(["rates-".concat(s,"-").concat(n),s,n],xe,{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:60});return Object(r.useEffect)((function(){e&&t&&b(function(e,t){var n=[e,t];return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?n.sort().join(","):n.join(",")}(e,t,!0))}),[e,t]),Object(r.useEffect)((function(){var n="".concat(e,"-").concat(t),c=O.data;c&&i((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(de.a)({},n,c.rates))}))}),[O.data,e,t]),Object(r.useMemo)((function(){return o}),[o])}(e,t,n);return Object(fe.a)((function(){if(c){if(l){var n=l["".concat(e,"-").concat(t)];n&&t&&e&&(u(n[t]*c/n[e]),O(!1))}}else O(!0)}),300,[c,e,t,l]),{result:i,withError:b}},me=Object(r.memo)((function(e){var t=e.removeEnabled,n=e.onRemove,a=Object(r.useState)(""),o=Object(d.a)(a,2),i=o[0],u=o[1],j=Object(r.useState)(""),s=Object(d.a)(j,2),b=s[0],O=s[1],l=Object(r.useState)(""),f=Object(d.a)(l,2),x=f[0],y=f[1],v=Object(r.useState)(""),k=Object(d.a)(v,2),C=k[0],F=k[1],M=Object(r.useState)(new Date),D=Object(d.a)(M,2),S=D[0],E=D[1],K=Object(r.useState)(!1),L=Object(d.a)(K,2),N=L[0],B=L[1],R=Object(r.useState)(null),I=Object(d.a)(R,2),W=I[0],_=I[1],q=Object(r.useState)(!1),H=Object(d.a)(q,2),U=H[0],Z=H[1],A=Object(r.useState)(c.Forward),G=Object(d.a)(A,2),Q=G[0],V=G[1],Y=function(e,t,n){return n===c.Forward?e:t}(i,b,Q),$=pe(be(x,C,Q),Oe(x,C,Q),S,Number(Y)),ee=$.result,te=$.withError;Object(r.useEffect)((function(){_(ee)}),[ee]),Object(r.useEffect)((function(){if(W){var e=W.toFixed(3);Q===c.Forward?O(e):u(e)}}),[W,Q]),Object(r.useEffect)((function(){Z(!(!i||!b)&&!!te)}),[te,i,b]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)(h.a,{marginBottom:1,display:"flex",alignContent:"center",children:[Object(g.jsx)(z,{value:S,onChange:function(e){E(e)}}),Object(g.jsxs)(h.a,{paddingLeft:2,marginTop:4,children:[Object(g.jsx)(J,{disabled:!x||!C,onClick:function(){B(!0)}}),t&&Object(g.jsx)(X,{onClick:n})]})]}),Object(g.jsxs)(h.a,{display:"flex",children:[Object(g.jsx)(w,{error:U,value:i,onChange:function(e){u(e.target.value)},onKeyDown:function(){_(null),V(c.Forward)},label:Q===c.Forward?"From":"To"}),Object(g.jsx)(h.a,{marginLeft:1,children:Object(g.jsx)(P,{onChange:function(e,t){t&&y(t.key)}})}),Object(g.jsx)(h.a,{marginLeft:1,marginRight:1,children:Object(g.jsx)(T,{error:U,operationMode:Q})}),Object(g.jsx)(h.a,{marginRight:1,children:Object(g.jsx)(P,{onChange:function(e,t){t&&F(t.key)}})}),Object(g.jsx)(w,{error:U,value:b,onChange:function(e){O(e.target.value)},onKeyDown:function(){_(null),V(c.Backward)},label:Q===c.Forward?"To":"From"})]})]}),!!x&&!!C&&Object(g.jsx)(le,{leftCurrency:x,rightCurrency:C,convertionDate:S,operationMode:Q,DialogProps:{open:N,onClose:function(){B(!1)}}}),Object(g.jsx)(p.a,{open:U,children:Object(g.jsx)(m.a,{severity:"error",children:"Invalid amount!"})})]})})),ye=n(489),ve=Object(r.memo)((function(e){return Object(g.jsx)(q.a,Object(y.a)(Object(y.a)({},e),{},{style:{color:S.a[600]},"aria-label":"remove-convertion-box",children:Object(g.jsx)(ye.a,{})}))})),ge=function(){var e=Object(r.useState)([0]),t=Object(d.a)(e,2),n=t[0],c=t[1],a=n.length>1;return Object(g.jsxs)(h.a,{margin:"auto",padding:10,width:"max-content",children:[n.map((function(e,t){return Object(g.jsxs)("div",{children:[Object(g.jsx)(h.a,{paddingTop:1,paddingBottom:1,display:"flex",children:Object(g.jsx)(me,{removeEnabled:a,onRemove:(r=e,function(){c((function(e){return e.filter((function(e){return e!==r}))}))})})}),t!==n.length-1&&Object(g.jsx)(x.a,{})]},e);var r})),Object(g.jsx)(x.a,{}),Object(g.jsx)(h.a,{width:"100%",display:"flex",justifyContent:"center",children:Object(g.jsx)(ve,{onClick:function(){c((function(e){return[].concat(Object(f.a)(e),[e[e.length-1]+1])}))}})})]})},we=new u.a,ke=function(){return Object(g.jsx)(j.a,{client:we,children:Object(g.jsxs)(O.a,{utils:l.a,children:[Object(g.jsx)(s.a,{position:"fixed",children:Object(g.jsx)(b.a,{children:"Ultimate Currency Converter \ud83d\ude80"})}),Object(g.jsx)(ge,{})]})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,505)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(ke,{})}),document.getElementById("root")),Ce()}},[[430,1,2]]]);
//# sourceMappingURL=main.8de81dbf.chunk.js.map